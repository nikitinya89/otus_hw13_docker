# Otus Homework 13. Docker
### Цель домашнего задания
Разобраться с основами docker, с образом, эко системой docker в целом.
### Описание домашнего задания
- Установите [Docker](https://docs.docker.com/engine/install/ubuntu/) на хост машину 
- Установите [Docker Compose](https://docs.docker.com/compose/install/linux/#install-the-plugin-manually) - как плагин, или как отдельное приложение
- Создайте свой кастомный образ *nginx* на базе *alpine*. После запуска *nginx* должен отдавать кастомную страницу (достаточно изменить дефолтную страницу *nginx*)
- Определите разницу между контейнером и образом
- Вывод опишите в домашнем задании.
- Ответьте на вопрос: Можно ли в контейнере собрать ядро?
### Задание со звездочкой
- Написать Docker-compose для приложения Redmine, с использованием опции build.
- Добавить в базовый образ redmine любую кастомную тему оформления.
- Убедиться что после сборки новая тема доступна в настройках.
- Настроить вольюмы, для сохранения всей необходимой информации

## Выполнение
**Dockerfile** для выполнения задания находится в каталоге [1-nginx](https://github.com/nikitinya89/otus_hw13_docker/tree/main/1-nginx).

Сборка образа:
```bash
docker build -t some-nginx .
```
Запуск контейнера:
```bash
docker run -d -p 80:80 some-nginx
```
В результате получим запущенный контейнер с установленным *nginx* на базе образа *alpine*, который отдает кастомную страницу, доступную на хосте по адрес http://localhost

Также образ добавлен в **Docker Hub** и доступен по адресу  
https://hub.docker.com/r/nikitinya89/otus_hw13/tags

Команда для загрузки образа:
```bash
docker pull nikitinya89/otus_hw13:latest
```

### Задание со звездочкой
В каталоге [2-redmine](https://github.com/nikitinya89/otus_hw13_docker/tree/main/2-redmine) находится **docker-compose.yml** для выполнения задания.
В результате выполнения команды `docker compose up` получим два запущенных контейнера: *redmine* и *mysql*.
- В *redmine* добавлена кастомная тема оформления *Blueclair*, доступная для выбора из веб-интерфейса
- На хост проброшен порт *3306* для *mysql*, а также на порт *8080* проброшен *3000* порт *redmine* для доступа к веб-интерфейсу
- Настроены *Volume*'ы для сохранения каталогов */var/lib/mysql* контейнера *mysql* и */usr/src/redmine/files* контейнера *redmine*

## Теоритические вопросы
### Определите разницу между контейнером и образом
**Образ** - шаблон, доступный в режиме для чтения, содержащий исходный код, библиотеки, зависимости, инструменты и другие файлы, необходимые для запуска приложения. Образ используется для создания контейнеров. Из одного образа можно создать неограниченное количество контейнеров.  
**Контейнер** представляет собой виртуализированная среду выполнения, в которой пользователи могут изолировать приложения от хостовой системы.

Таким образом, основное различие между контейнером и образом заключается в том, что образ является статическим шаблоном, из которого создаются контейнеры, в то время как контейнер представляет собой исполняемый экземпляр этого образа.
### Можно ли в контейнере собрать ядро?
В контейнере можно собрать ядро, но так как контейнер использует ядро хостовой системы не получится загрузить сам контейнер с этим ядром.
